Proceedings O
of O
NAACL O
- O
HLT O
2019 O
, O
pages O
2180‚Äì2189 O
Minneapolis O
, O
Minnesota O
, O
June O
2 O
- O
June O
7 O
, O
2019 O
. O

c O

2019 O
Association O
for O
Computational O
Linguistics2180A O
Capsule O
Network O
- O
based O
Embedding O
Model O
for O
Knowledge O
Graph O
Completion O
and O
Search O
Personalization O
Dai O
Quoc O
Nguyen1 O
, O
Thanh O
Vu2 O
, O
Tu O
Dinh O
Nguyen1 O
, O
Dat O
Quoc O
Nguyen3 O
, O
Dinh O
Phung1 O
1Monash O
University O
, O
Australia;3The O
University O
of O
Melbourne O
, O
Australia O
2The O
Australian O
e O
- O
Health O
Research O
Centre O
, O
CSIRO O
, O
Australia O
1fdai.nguyen O
, O
tu.dinh.nguyen O
, O
dinh.phung O
g@monash.edu O
2thanh.vu@csiro.au O
; O

3dqnguyen@unimelb.edu.au O

Abstract O
In O
this O
paper O
, O
we O
introduce O
an O
embedding O
model O
, O
named O
CapsE O
, O
exploring O
a O
capsule O
net- O
work O
to O
model O
relationship O
triples O
( O
subject O
, O
re- O
lation O
, O
object O
) O
. O

Our O
CapsE O
represents O
each O
triple O
as O
a O
3 O
- O
column O
matrix O
where O
each O
col- O
umn O
vector O
represents O
the O
embedding O
of O
an O
element O
in O
the O
triple O
. O

This O
3 O
- O
column O
matrix O
is O
then O
fed O
to O
a O
convolution O
layer O
where O
mul- O
tiple O
Ô¨Ålters O
are O
operated O
to O
generate O
different O
feature O
maps O
. O

These O
feature O
maps O
are O
recon- O
structed O
into O
corresponding O
capsules O
which O
are O
then O
routed O
to O
another O
capsule O
to O
produce O
a O
continuous O
vector O
. O

The O
length O
of O
this O
vector O
is O
used O
to O
measure O
the O
plausibility O
score O
of O
the O
triple O
. O

Our O
proposed O
CapsE O
obtains O
better O
performance O
than O
previous O
state O
- O
of O
- O
the O
- O
art O
em- O
bedding O
models O
for O
knowledge O
graph O
comple- O
tion O
on O
two O
benchmark O
datasets O
WN18RR O
and O
FB15k-237 O
, O
and O
outperforms O
strong O
search O
personalization O
baselines O
on O
SEARCH17 O
. O

1 O
Introduction O
Knowledge O
graphs O
( O
KGs O
) O
containing O
relationship O
triples O
( O
subject O
, O
relation O
, O
object O
) O
, O
denoted O
as O
( O
s O
, O
r O
, O
o O
) O
, O
are O
the O
useful O
resources O
for O
many O
NLP O
and O
especially O
information O
retrieval O
applications O
such O
as O
semantic O
search O
and O
question O
answering O
( O
Wang O
et O
al O
. O
, O
2017 O
) O
. O

However O
, O
large O
knowledge O
graphs O
, O
even O
containing O
billions O
of O
triples O
, O
are O
still O
incom- O
plete O
, O
i.e. O
, O
missing O
a O
lot O
of O
valid O
triples O
( O
West O
et O
al O
. O
, O
2014 O
) O
. O

Therefore O
, O
much O
research O
efforts O
have O
fo- O
cused O
on O
the O
knowledge O
graph O
completion O
task O
which O
aims O
to O
predict O
missing O
triples O
in O
KGs O
, O
i.e. O
, O
predicting O
whether O
a O
triple O
not O
in O
KGs O
is O
likely O
to O
be O
valid O
or O
not O
( O
Bordes O
et O
al O
. O
, O
2011 O
, O
2013 O
; O
Socher O
et O
al O
. O
, O
2013 O
) O
. O

To O
this O
end O
, O
many O
embedding O
models O
have O
been O
proposed O
to O
learn O
vector O
representations O
for O
entities O
( O
i.e. O
, O
subject O
/head O
entity O
and O
object O
/tail O
entity O
) O
and O
relations O
in O
KGs O
, O
and O
obtained O
state- O
of O
- O
the O
- O
art O
results O
as O
summarized O
by O
Nickel O
et O
al.(2016a O
) O
and O
Nguyen O
( O
2017 O
) O
. O

These O
embedding O
models O
score O
triples O
( O
s O
, O
r O
, O
o O
) O
, O
such O
that O
valid O
triples O
have O
higher O
plausibility O
scores O
than O
invalid O
ones O
( O
Bordes O
et O
al O
. O
, O
2011 O
, O
2013 O
; O
Socher O
et O
al O
. O
, O
2013 O
) O
. O

For O
example O
, O
in O
the O
context O
of O
KGs O
, O
the O
score O
for O
( O
Melbourne O
, O
cityOf O
, O
Australia O
) O
is O
higher O
than O
the O
score O
for O
( O
Melbourne O
, O
cityOf O
, O
United O
Kingdom O
) O
. O

Triple O
modeling O
is O
applied O
not O
only O
to O
the O
KG O
completion O
, O
but O
also O
for O
other O
tasks O
which O
can O
be O
formulated O
as O
a O
triple O
- O
based O
prediction O
prob- O
lem O
. O

An O
example O
is O
in O
search O
personalization O
, O
one O
would O
aim O
to O
tailor O
search O
results O
to O
each O
spe- O
ciÔ¨Åc O
user O
based O
on O
the O
user O
‚Äôs O
personal O
interests O
and O
preferences O
( O
Teevan O
et O
al O
. O
, O
2005 O
, O
2009 O
; O

Ben- O
nett O
et O

al O
. O
, O
2012 O
; O
Harvey O
et O
al O
. O
, O
2013 O
; O
Vu O
et O
al O
. O
, O
2015 O
, O
2017 O
) O
. O

Here O
the O
triples O
can O
be O
formulated O
as O
( O
submitted O
query O
, O
user O
proÔ¨Åle O
, O
returned O
document O
) O
and O
used O
to O
re O
- O
rank O
documents O
returned O
to O
a O
user O
given O
an O
input O
query O
, O
by O
employing O
an O
existing O
KG O
embedding O
method O
such O
as O
TransE O
( O
Bordes O
et O
al O
. O
, O
2013 O
) O
, O
as O
proposed O
by O
Vu O
et O
al O
. O

( O
2017 O
) O
. O

Previous O
studies O
have O
shown O
the O
effectiveness O
of O
modeling O
triple O
for O
either O
KG O
completion O
or O
search O
person- O
alization O
. O

However O
, O
there O
has O
been O
no O
single O
study O
investigating O
the O
performance O
on O
both O
tasks O
. O

Conventional O
embedding O
models O
, O
such O
as O
TransE O
( O
Bordes O
et O
al O
. O
, O
2013 O
) O
, O
DISTMULT O
( O
Yang O
et O
al O
. O
, O
2015 O
) O
and O
ComplEx O
( O
Trouillon O
et O
al O
. O
, O
2016 O
) O
, O
use O
addition O
, O
subtraction O
or O
simple O
multiplication O
operators O
, O
thus O
only O
capture O
the O
linear O
relation- O
ships O
between O
entities O
. O

Recent O
research O
has O
raised O
interest O
in O
applying O
deep O
neural O
networks O
to O
triple- O
based O
prediction O
problems O
. O

For O
example O
, O
Nguyen O
et O
al O
. O

( O
2018 O
) O
proposed O
ConvKB O
‚Äî O
a O
convolutional O
neural O
network O
( O
CNN)-based O
model O
for O
KG O
com- O
pletion O
and O
achieved O
state O
- O
of O
- O
the O
- O
art O
results O
. O

Most O
of O
KG O
embedding O
models O
are O
constructed O
to O
mod- O
eling O
entries O
at O
the O
same O
dimension O
of O
the O
given O
triple O
, O
where O
presumably O
each O
dimension O
captures O
some O
relation O
- O
speciÔ¨Åc O
attribute O
of O
entities O
. O

To O
the O

2181best O
of O
our O
knowledge O
, O
however O
, O
none O
of O
the O
exist- O
ing O
models O
has O
a O
‚Äú O
deep O
‚Äù O
architecture O
for O
modeling O
the O
entries O
in O
a O
triple O
at O
the O
same O
dimension O
. O

Sabour O
et O
al O
. O

( O
2017 O
) O
introduced O
capsule O
net- O
works O
( O
CapsNet O
) O
that O
employ O
capsules O
( O
i.e. O
, O
each O
capsule O
is O
a O
group O
of O
neurons O
) O
to O
capture O
entities O
in O
images O
and O
then O
uses O
a O
routing O
process O
to O
specify O
connections O
from O
capsules O
in O
a O
layer O
to O
those O
in O
the O
next O
layer O
. O

Hence O
CapsNet O
could O
encode O
the O
intrinsic O
spatial O
relationship O
between O
a O
part O
and O
a O
whole O
constituting O
viewpoint O
invariant O
knowledge O
that O
automatically O
generalizes O
to O
novel O
viewpoints O
. O

Each O
capsule O
accounts O
for O
capturing O
variations O
of O
an O
object O
or O
object O
part O
in O
the O
image O
, O
which O
can O
be O
efÔ¨Åciently O
visualized O
. O

Our O
high O
- O
level O
hypothesis O
is O
that O
embedding O
entries O
at O
the O
same O
dimension O
of O
the O
triple O
also O
have O
these O
variations O
, O
although O
it O
is O
not O
straightforward O
to O
be O
visually O
examined O
. O

To O
that O
end O
, O
we O
introduce O
CapsE O
to O
explore O
a O
novel O
application O
of O
CapsNet O
on O
triple O
- O
based O
data O
for O
two O
problems O
: O
KG O
completion O
and O
search O
per- O
sonalization O
. O

Different O
from O
the O
traditional O
mod- O
eling O
design O
of O
CapsNet O
where O
capsules O
are O
con- O
structed O
by O
splitting O
feature O
maps O
, O
we O
use O
capsules O
to O
model O
the O
entries O
at O
the O
same O
dimension O
in O
the O
entity O
and O
relation O
embeddings O
. O

In O
our O
CapsE O
, O
vs O
, O
vrandvoare O
uniquek O
- O
dimensional O
embeddings O
ofs O
, O
rando O
, O
respectively O
. O

The O
embedding O
triple O
[ O
vs O
, O
vr O
, O
vo O
] O
of(s O
, O
r O
, O
o O
) O
is O
fed O
to O
the O
convolution O
layer O
where O
multiple O
Ô¨Ålters O
of O
the O
same O
13shape O
are O
repeatedly O
operated O
over O
every O
row O
of O
the O
ma- O
trix O
to O
produce O
k O
- O
dimensional O
feature O
maps O
. O

En- O
tries O
at O
the O
same O
dimension O
from O
all O
feature O
maps O
are O
then O
encapsulated O
into O
a O
capsule O
. O

Thus O
, O
each O
capsule O
can O
encode O
many O
characteristics O
in O
the O
embedding O
triple O
to O
represent O
the O
entries O
at O
the O
corresponding O
dimension O
. O

These O
capsules O
are O
then O
routed O
to O
another O
capsule O
which O
outputs O
a O
contin- O
uous O
vector O
whose O
length O
is O
used O
as O
a O
score O
for O
the O
triple O
. O

Finally O
, O
this O
score O
is O
used O
to O
predict O
whether O
the O
triple O
( O
s O
, O
r O
, O
o O
) O
is O
valid O
or O
not O
. O

In O
summary O
, O
our O
main O
contributions O
from O
this O
paper O
are O
as O
follows O
: O
We O
propose O
an O
embedding O
model O
CapsE O
using O
the O
capsule O
network O
( O
Sabour O
et O
al O
. O
, O
2017 O
) O
for O
mod- O
eling O
relationship O
triples O
. O

To O
our O
best O
of O
knowl- O
edge O
, O
our O
work O
is O
the O
Ô¨Årst O
consideration O
of O
explor- O
ing O
the O
capsule O
network O
to O
knowledge O
graph O
com- O
pletion O
and O
search O
personalization O
. O

We O
evaluate O
our O
CapsE O
for O
knowledge O
graph O
completion O
on O
two O
benchmark O
datasets O
WN18RR(Dettmers O
et O
al O
. O
, O
2018 O
) O
and O
FB15k-237 O
( O
Toutanova O
and O
Chen O
, O
2015 O
) O
. O

CapsE O
obtains O
the O
best O
mean O
rank O
on O
WN18RR O
and O
the O
highest O
mean O
reciprocal O
rank O
and O
highest O
Hits@10 O
on O
FB15k-237 O
. O

We O
restate O
the O
prospective O
strategy O
of O
expand- O
ing O
the O
triple O
embedding O
models O
to O
improve O
the O
ranking O
quality O
of O
the O
search O
personalization O
sys- O
tems O
. O

We O
adapt O
our O
model O
to O
search O
personaliza- O
tion O
and O
evaluate O
on O
SEARCH17 O

( O
Vu O
et O
al O
. O
, O
2017 O
) O
‚Äì O
a O
dataset O
of O
the O
web O
search O
query O
logs O
. O

Ex- O
perimental O
results O
show O
that O
our O
CapsE O
achieves O
the O
new O
state O
- O
of O
- O
the O
- O
art O
results O
with O
signiÔ¨Åcant O
im- O
provements O
over O
strong O
baselines O
. O

2 O
The O
proposed O
CapsE O
LetGbe O
a O
collection O
of O
valid O
factual O
triples O
in O
the O
form O
of O
( O
subject O
, O
relation O
, O
object O
) O
denoted O
as O
( O
s O
, O
r O
, O
o O
) O
. O

Embedding O
models O
aim O
to O
deÔ¨Åne O
a O
score O
func- O
tiongiving O
a O
score O
for O
each O
triple O
, O
such O
that O
valid O
triples O
receive O
higher O
scores O
than O
invalid O
triples O
. O

We O
denote O
vs O
, O
vrandvoas O
thek O
- O
dimensional O
embeddings O
of O
s O
, O
rando O
, O
respectively O
. O

In O
our O
proposed O
CapsE O
, O
we O
follow O
Nguyen O
et O
al O
. O

( O
2018 O
) O
to O
view O
each O
embedding O
triple O
[ O
vs O
, O
vr O
, O
vo O
] O
as O
a O
matrix O
A= O

[ O
vs;vr;vo]2Rk3 O
, O
and O
denote O
Ai;:2R13as O
thei O
- O
th O
row O
of O
A. O
We O
use O
a O
Ô¨Ålter O
! O

2R13operated O
on O
the O
convolution O
layer O
. O

This O
Ô¨Ålter!is O
repeatedly O
operated O
over O
every O
row O
of O
Ato O
generate O
a O
feature O
map O
q= O
[ O
q1;q2;:::;qk]2 O
Rk O
, O
in O
which O
qi O
= O
g(!Ai;:+b)wherede- O
notes O
a O
dot O
product O
, O
b2Ris O
a O
bias O
term O
and O
g O
is O
a O
non O
- O
linear O
activation O
function O
such O
as O
ReLU O
. O

Our O
model O
uses O
multiple O
Ô¨Ålters O
2R13to O
gener- O
ate O
feature O
maps O
. O

We O
denote O
  O
as O
the O
set O
of O
Ô¨Ål- O
ters O
and O
N O

= O

j O
jas O
the O
number O
of O
Ô¨Ålters O
, O
thus O
we O
have O
Nk O
- O
dimensional O
feature O
maps O
, O
for O
which O
each O
feature O
map O
can O
capture O
one O
single O
character- O
istic O
among O
entries O
at O
the O
same O
dimension O
. O

We O
build O
our O
CapsE O
with O
two O
single O
capsule O
layers O
for O
a O
simpliÔ¨Åed O
architecture O
. O

In O
the O
Ô¨Årst O
layer O
, O
we O
construct O
kcapsules O
, O
wherein O
entries O
at O
the O
same O
dimension O
from O
all O
feature O
maps O
are O
en- O
capsulated O
into O
a O
corresponding O
capsule O
. O

There- O

fore O
, O
each O
capsule O
can O
capture O
many O
characteris- O
tics O
among O
the O
entries O
at O
the O
corresponding O
dimen- O
sion O
in O
the O
embedding O
triple O
. O

These O
characteris- O
tics O
are O
generalized O
into O
one O
capsule O
in O
the O
second O
layer O
which O
produces O
a O
vector O
output O
whose O
length O
is O
used O
as O
the O
score O
for O
the O
triple O
. O

The O
Ô¨Årst O
capsule O
layer O
consists O
of O
kcapsules O
, O
for O
which O
each O
capsule O
i2f1;2;:::;kghas O
a O
vector O

2182 O
srok O
	 O
= O
	 O
4matrix O
	 O
4√ó35 O
	 O
filters O
	 O
1√ó3convolution5 O
	 O
feature O
	 O
maps1 O
	 O
capsule O
	 O
with O
	 O
2 O
	 O
neuronsReLU O
u!First O
	 O
capsule O
	  O
layerSecond O
	 O
capsule O
	 O
layerCNN O
	 O
layer4 O
	 O
capsules O
, O
	  O
each O
	 O
with O
	 O
5 O
	 O
neuronsRouting O
	 O
processu"u#u$e||e||ssquashsquashFigure O
1 O
: O
An O
example O
illustration O
of O
our O
CapsE O
with O
k= O
4,N= O
5 O
, O
andd= O
2 O
. O
output O
ui2RN1 O
. O

Vector O
outputs O
uiare O
mul- O
tiplied O
by O
weight O
matrices O
Wi2RdNto O
pro- O

duce O
vectors O
^ui2Rd1which O
are O
summed O
to O
produce O
a O
vector O
input O
s2Rd1to O
the O
capsule O
in O
the O
second O
layer O
. O

The O
capsule O
then O
performs O
the O
non O
- O
linear O
squashing O
function O
to O
produce O
a O
vector O
output O
e2Rd1 O
: O
e O
= O
squash O
( O
s O
) O
; O
s O
= O
X O
ici^ui;^ui O
= O
Wiui O
where O
squash O
( O
s O
) O
= O
ksk2 O
1+ksk2s O
ksk O
, O
andciare O
cou- O
pling O
coefÔ¨Åcients O
determined O
by O
the O
routing O
pro- O
cess O
as O
presented O
in O
Algorithm O
1 O
. O

Because O
there O
is O
one O
capsule O
in O
the O
second O
layer O
, O
we O
make O
only O
one O
difference O
in O
the O
routing O
process O
proposed O
by O
Sabour O
et O
al O
. O

( O
2017 O
) O
, O
for O
which O
we O
apply O
the O
softmax O
in O
a O
direction O
from O
all O
capsules O
in O
the O
pre- O
vious O
layer O
to O
each O
of O
capsules O
in O
the O
next O
layer.1 O
forall O
capsule O
i2the O
Ô¨Årst O
layer O
do O
bi O
0 O
foriteration O
= O
1 O
, O
2 O
, O
... O
, O
m O
do O
c O
softmax O
( O
b O
) O
s O
P O
ici^ui O
e O
= O
squash O
( O
s O
) O
forall O
capsule O
i2the O
Ô¨Årst O
layer O
do O
bi O
bi+^uie O

Algorithm O
1 O
: O
The O
routing O
process O
is O
extended O
from O
Sabour O
et O
al O
. O

( O
2017 O
) O
. O

1The O
softmax O
in O
the O
original O
routing O
process O
proposed O
by O
Sabour O
et O
al O
. O

( O
2017 O
) O
is O
applied O
in O
another O
direction O
from O
each O
of O
capsules O
in O
the O
previous O
layer O
to O
all O
capsules O
in O
the O
next O
layer O
. O

We O
illustrate O
our O
proposed O
model O
in O
Figure O
1 O
where O
embedding O
size O
: O
k= O
4 O
, O
the O
number O
of O
Ô¨Ål- O
ters O
: O
N= O
5 O
, O
the O
number O
of O
neurons O
within O
the O
capsules O
in O
the O
Ô¨Årst O
layer O
is O
equal O
to O
N O
, O
and O
the O
number O
of O
neurons O
within O
the O
capsule O
in O
the O
sec- O
ond O
layer O
: O
d= O
2 O
. O
The O
length O
of O
the O
vector O
output O
eis O
used O
as O
the O
score O
for O
the O
input O
triple O
. O

Formally O
, O
we O
deÔ¨Åne O
the O
score O
function O
ffor O
the O
triple O
( O
s;r;o O
) O
as O
follows O
: O
f(s;r;o O
) O

= O
kcapsnet O
( O
g([vs;vr;vo] O
) O
) O

k O
where O
the O
set O
of O
Ô¨Ålters O
  O
is O
shared O
parameters O
in O
the O
convolution O
layer O
; O
denotes O
a O
convolution O
operator O
; O
and O
capsnet O
denotes O
a O
capsule O
network O
operator O
. O

We O
use O
the O
Adam O
optimizer O
( O
Kingma O
and O
Ba O
, O
2014 O
) O
to O
train O
CapsE O
by O
minimizing O
the O
loss O
function O
( O
Trouillon O
et O
al O
. O
, O
2016 O
; O
Nguyen O
et O
al O
. O
, O
2018 O
) O
as O
follows O
: O
L O
= O
X O
( O
s;r;o O
) O
2fG[G0glog  O
1 O
+ O
exp  O
 t(s;r;o O
) O
f(s O
; O
r O
; O
o O
) O
 O
in O
which O
, O
t(s;r;o O
) O

= O
1for(s;r;o O
) O
2 O
G O
 1for(s;r;o O
) O
2G0 O
hereGandG0are O
collections O
of O
valid O
and O
invalid O
triples O
, O
respectively O
. O

G0is O
generated O
by O
corrupting O
valid O
triples O
inG. O
3 O
Knowledge O
graph O
completion O
evaluation O
In O
the O
knowledge O
graph O
completion O
task O
( O
Bordes O
et O
al O
. O
, O
2013 O
) O
, O
the O
goal O
is O
to O
predict O
a O
missing O
entity O
given O
a O
relation O
and O
another O
entity O
, O
i.e O
, O
inferring O
a O
head O
entitysgiven O
( O
r;o)or O
inferring O
a O
tail O
entity O
ogiven O
( O
s;r O
) O
. O

The O
results O
are O
calculated O
based O
on O
ranking O
the O
scores O
produced O
by O
the O
score O
function O
fon O
test O
triples O
. O

21833.1 O
Experimental O
setup O
Datasets O
: O
We O
use O
two O
recent O
benchmark O
datasets O
WN18RR O
( O
Dettmers O
et O
al O
. O
, O
2018 O
) O
and O
FB15k-237 O
( O
Toutanova O
and O
Chen O
, O
2015 O
) O
. O

These O
two O
datasets O
are O
created O
to O
avoid O
reversible O
relation O
problems O
, O
thus O
the O
prediction O
task O
becomes O
more O
realistic O
and O
hence O
more O
challenging O
( O
Toutanova O
and O
Chen O
, O
2015 O
) O
. O

Table O
1 O
presents O
the O
statistics O
of O
WN18RR O
and O
FB15k-237 O
. O

Dataset O
# O
E O
# O
R O
# O
Triples O
in O
train O
/ O
valid O
/ O
test O
WN18RR O
40,943 O
11 O
86,835 O
3,034 O
3,134 O
FB15k-237 O
14,541 O
237 O
272,115 O
17,535 O
20,466 O
Table O
1 O
: O
Statistics O
of O
the O
experimental O
datasets O
. O

# O
E O
is O
the O
number O
of O
entities O
. O

# O
R O
is O
the O
number O
of O
relations O
. O

Evaluation O
protocol O
: O
Following O
Bordes O
et O
al O
. O

( O
2013 O
) O
, O
for O
each O
valid O
test O
triple O
( O
s;r;o O
) O
, O
we O
re- O
place O
either O
soroby O
each O
of O
all O
other O
entities O
to O
create O
a O
set O
of O
corrupted O
triples O
. O

We O
use O
the O
‚Äú O
Fil- O
tered O
‚Äù O
setting O
protocol O
( O
Bordes O
et O
al O
. O
, O
2013 O
) O
, O
i.e. O
, O
not O
taking O
any O
corrupted O
triples O
that O
appear O
in O
the O
KG O
into O
accounts O
. O

We O
rank O
the O
valid O
test O
triple O
and O
corrupted O
triples O
in O
descending O
order O
of O
their O
scores O
. O

We O
employ O
evaluation O
metrics O
: O
mean O
rank O
( O
MR O
) O
, O
mean O
reciprocal O
rank O
( O
MRR O
) O
and O
Hits@10 O
( O
i.e. O
, O
the O
proportion O
of O
the O
valid O
test O
triples O
ranking O
in O
top O
10 O
predictions O
) O
. O

Lower O
MR O
, O
higher O
MRR O
or O
higher O
Hits@10 O
indicate O
better O
performance O
. O

Final O
scores O
on O
the O
test O
set O
are O
reported O
for O
the O
model O
ob- O
taining O
the O
highest O
Hits@10 O
on O
the O
validation O
set O
. O

Training O
protocol O
: O
We O
use O
the O
common O
Bernoulli O
strategy O
( O
Wang O
et O
al O
. O
, O
2014 O
; O
Lin O
et O
al O
. O
, O
2015b O
) O
when O
sampling O
invalid O
triples O
. O

For O
WN18RR O
, O
Pin- O

ter O

and O
Eisenstein O
( O
2018)2found O
a O
strong O
evidence O
to O
support O
the O
necessity O
of O
a O
WordNet O
- O
related O
se- O
mantic O
setup O
, O
in O
which O
they O
averaged O
pre O
- O
trained O
word O
embeddings O
for O
word O
surface O
forms O
within O
the O
WordNet O
to O
create O
synset O
embeddings O
, O
and O
then O
used O
these O
synset O
embeddings O
to O
initialize O
en- O
tity O
embeddings O
for O
training O
their O
TransE O
associa- O
tion O
model O
. O

We O
follow O
this O
evidence O
in O
using O
the O
pre O
- O
trained O
100 O
- O
dimensional O
Glove O
word O
embed- O
dings O
( O
Pennington O
et O
al O
. O
, O
2014 O
) O
to O
train O
a O
TransE O
model O
on O
WN18RR O
. O

2Pinter O
and O
Eisenstein O
( O
2018 O
) O
considered O
WN18RR O
and O
evaluated O
their O
M3GM O
model O
only O
for O
7 O
relations O
as O
they O
em- O
ployed O
the O
inverse O
rule O
model O
( O
Dettmers O
et O
al O
. O
, O
2018 O
) O
for O
4 O
remaining O
symmetric O
relations O
. O

Regarding O
a O
fair O
comparison O
to O
other O
models O
, O
we O
use O
the O
M3GM O
implementation O
released O
by O
Pinter O
and O
Eisenstein O
( O
2018 O
) O
to O
re O
- O
train O
and O
re O
- O
evaluate O
the O
M3GM O
model O
for O
all O
11 O
relations O
. O

We O
thank O
Pinter O
and O
Eisenstein O
( O
2018 O
) O
for O
their O
assistance O
running O
their O
code O
. O

We O
employ O
the O
TransE O
and O
ConvKB O
implemen- O

tations O
provided O
by O
Nguyen O
et O
al O
. O
( O
2016b O
) O
and O
Nguyen O
et O
al O
. O
( O
2018 O
) O
. O

For O
ConvKB O
, O
we O
use O
a O
new O
process O
of O
training O
up O
to O
100 O
epochs O
and O
monitor O
the O
Hits@10 O
score O
after O
every O
10 O
training O
epochs O
to O
choose O
optimal O
hyper O
- O
parameters O
with O
the O
Adam O
initial O
learning O
rate O
in O
f1e 5;5e 5;1e 4 O
g O
and O
the O
number O
of O
Ô¨Ålters O
Ninf50;100;200;400 O
g. O

We O
obtain O
the O
highest O
Hits@10 O
scores O
on O
the O
vali- O
dation O
set O
when O
using O
N= O
400 O
and O
the O
initial O
learn- O
ing O
rate O
5e 5on O
WN18RR O
; O
and O
N= O
100 O
and O
the O
initial O
learning O
rate O
1e 5on O
FB15k-237 O
. O

Like O
in O
ConvKB O
, O
we O
use O
the O
same O
pre O
- O
trained O
entity O
and O
relation O
embeddings O
produced O
by O
TransE O
to O
initialize O
entity O
and O
relation O
embeddings O
in O
our O
CapsE O
for O
both O
WN18RR O
and O
FB15k-237 O

( O
k= O
100 O
) O
. O

We O
set O
the O
batch O
size O
to O
128 O
, O
the O
num- O
ber O
of O
neurons O
within O
the O
capsule O
in O
the O
second O
capsule O
layer O
to O
10 O
( O
d= O
10 O
) O
, O
and O
the O
number O
of O
it- O
erations O
in O
the O
routing O
algorithm O
minf1;3;5;7 O
g. O
We O
run O
CapsE O
up O
to O
50 O
epochs O
and O
monitor O
the O
Hits@10 O
score O
after O
each O
10 O
training O
epochs O
to O
choose O
optimal O
hyper O
- O
parameters O
. O

The O
highest O
Hits@10 O
scores O
for O
our O
CapsE O
on O
the O
validation O
set O
are O
obtained O
when O
using O
m= O
1,N= O
400 O
and O
the O
initial O
learning O
rate O
at O
1e 5on O
WN18RR O
; O
and O
m= O
1,N= O
50 O
and O
the O
initial O
learning O
rate O
at O
1e 4on O
FB15k-237 O
. O

3.2 O
Main O
experimental O
results O
Table O
2 O
compares O
the O
experimental O
results O
of O
our O
CapsE O
with O
previous O
state O
- O
of O
- O
the O
- O
art O
pub- O
lished O
results O
, O
using O
the O
same O
evaluation O
proto- O
col O
. O

Our O
CapsE O
performs O
better O
than O
its O
closely O
related O
CNN O
- O
based O
model O
ConvKB O
on O
both O
ex- O
perimental O
datasets O
( O
except O
Hits@10 O
on O
WN18RR O
and O
MR O
on O
FB15k-237 O
) O
, O
especially O
on O
FB15k- O
237 O
where O
our O
CapsE O
gains O
signiÔ¨Åcant O
improve- O
ments O
of O
0:523 0:418 O

= O
0:105 O
in O
MRR O
( O
which O
is O
about O
25.1 O
% O
relative O
improvement O
) O
, O
and O
59:3% 53:2 O
% O
= O
6:1 O
% O
absolute O
improvement O
in O
Hits@10 O
. O

Table O
2 O
also O
shows O
that O
our O
CapsE O
obtains O
the O
best O
MR O
score O
on O
WN18RR O
and O
the O
highest O
MRR O
and O
Hits@10 O
scores O
on O
FB15k-237 O
. O

Following O
Bordes O
et O
al O
. O

( O
2013 O
) O
, O
for O
each O
relation O
rin O
FB15k-237 O
, O
we O
calculate O
the O
averaged O
num- O
bersof O
head O
entities O
per O
tail O
entity O
and O
the O
aver- O

aged O
number O
oof O
tail O
entities O
per O
head O
entity O
. O

If O
s<1.5 O
ando<1.5,ris O
categorized O
one O
- O
to O
- O
one O
( O
1 O
- O
1 O
) O
. O

Ifs<1.5 O
ando1.5,ris O
categorized O
one O
- O
to O
- O
many O
( O
1 O
- O
M O
) O
. O

If O
s1.5 O
ando<1.5,ris O

2184MethodWN18RR O
FB15k-237 O

MR O
MRR O
H@10 O
MR O
MRR O
H@10 O

DISTMULT O
( O
Yang O
et O
al O
. O
, O
2015 O
) O
5110 O
0.425 O
49.1 O
254 O
0.241 O
41.9 O
ComplEx O
( O
Trouillon O
et O
al O
. O
, O
2016 O
) O
5261 O
0.444 O
50.7 O
339 O
0.247 O
42.8 O
ConvE O
( O
Dettmers O
et O
al O
. O
, O
2018 O
) O
4187 O
0.433 O
51.5 O
244 O
0.325 O
50.1 O
KBGAN O
( O
Cai O
and O
Wang O
, O
2018 O
) O
‚Äì O
0.213 O
48.1 O
‚Äì O
0.278 O
45.8 O
M3GM O
( O
Pinter O
and O
Eisenstein O
, O
2018 O
) O
1864 O
0.311 O
53.3 O
‚Äì O
‚Äì O
‚Äì O
TransE O
( O
Bordes O
et O
al O
. O
, O
2013 O
) O
743?0.245?56.0?347 O
0.294 O
46.5 O
ConvKB O
( O
Nguyen O
et O
al O
. O
, O
2018 O
) O
763?0.253?56.7?254?0.418?53.2 O
? O

OurCapsE O
719 O
0.415 O
56.0 O
303 O
0.523 O
59.3 O
Table O
2 O
: O
Experimental O
results O
on O
the O
WN18RR O
and O
FB15k-237 O
test O
sets O
. O

Hits@10 O
( O
H@10 O
) O
is O
reported O
in O
% O
. O

Results O
of O
DISTMULT O
, O
ComplEx O
and O
ConvE O
are O
taken O
from O
Dettmers O
et O
al O
. O

( O
2018 O
) O
. O

Results O
of O
TransE O
on O
FB15k- O
237 O
are O
taken O
from O
Nguyen O
et O
al O
. O

( O
2018 O
) O
. O

Our O
CapsE O
Hits@1 O
scores O
are O
33.7 O
% O
on O
WN18RR O
and O
48.9 O
% O
on O
FB15k-237 O
. O

Formulas O
of O
MRR O
and O
Hits@1 O
show O
a O
strong O
correlation O
, O
so O
using O
Hits@1 O
does O
not O
really O
reveal O
any O
additional O
information O
for O
this O
task O
. O

The O
best O
score O
is O
in O
bold O
, O
while O
the O
second O
best O
score O
is O
in O
underline O
. O

? O
denotes O
our O
new O
results O
for O
TransE O
and O
ConvKB O
, O
which O
are O
better O
than O
those O
published O
by O
Nguyen O
et O
al O
. O

( O
2018 O
) O
. O

1 O
- O
1 O
1 O
- O
M O
M-1 O
M O
- O
M020406080100 O
47:4 O
47:72 O
59:78 O
57:2851:56 O
57:15 O
49:51 O
48:85Hits@10Predictinghead O

CapsE O
ConvKB O
1 O
- O
1 O
1 O
- O
M O
M-1 O
M O
- O
M020406080100 O
47:92 O
17:48 O
80:26 O
58:5950 O
11:37 O
83:58 O
53:46Hits@10Predictingtail O
CapsE O
ConvKB O
1 O
- O
1 O
1 O
- O
M O
M-1 O
M O
- O
M00:20:40:60:8 O

0:45 O
0:28 O
0:59 O
0:510:47 O
0:37 O
0:48 O
0:37MRRPredictinghead O

CapsE O
ConvKB O
1 O
- O
1 O
1 O
- O
M O
M-1 O
M O
- O
M00:20:40:60:8 O
0:45 O
0:17 O
0:69 O
0:520:46 O
9:610 2 O
0:72 O
0:39MRRPredictingtail O

CapsE O
ConvKB O
Figure O
2 O
: O
Hits@10 O
( O
in O
% O
) O
and O
MRR O
on O
the O
FB15k-237 O
test O
set O
w.r.t O
each O
relation O
category O
. O

hypernym O
derivationallyrelatedform O
membermeronymhaspart O
instancehypernym O
synsetdomaintopicof O
alsosee O
verbgroup O
memberofdomainregion O
memberofdomainusage O
similarto020406080100 O
28:397:226:937:56047:474:197:436:539:6100 O
29:496:734:635:556:648:271:497:428:843:8100Hits@10CapsE O
ConvKB O
01020304050 O
39:9 O
34:3 O
8:1 O
5:5 O
3:9 O
3:6 O
1:81:2 O
0:8 O
0:80:1 O

% O
Triples O
w.r.t O
each O
relation%Triples O
in O
Test O
hypernym O
derivationallyrelatedform O
membermeronymhaspart O
instancehypernym O
synsetdomaintopicof O
alsosee O
verbgroup O
memberofdomainregion O
memberofdomainusage O
similarto00:20:40:60:81 O

0:110:890:130:160:350:270:60:740:150:180:5 O
0:110:430:180:130:360:330:240:370:160:290:29MRRCapsE O
ConvKB O
Figure O
3 O
: O
Hits@10 O
and O
MRR O
on O
the O
WN18RR O
test O
set O
w.r.t O
each O
relation O
. O

The O
right O
y O
- O
axis O
is O
the O
percentage O
of O
triples O
corresponding O
to O
relations O
. O

categorized O
many O
- O
to O
- O
one O
( O
M-1 O
) O
. O

If O
s1.5 O
and O
o1.5,ris O
categorized O
many O
- O
to O
- O
many O
( O
M O
- O
M O
) O
. O

As O
a O
result O
, O
17 O
, O
26 O
, O
81 O
and O
113 O
relations O
are O
la- O
belled O
1 O
- O
1 O
, O
1 O
- O
M O
, O
M-1 O
and O
M O
- O
M O
, O
respectively O
. O

And O
0.9 O
% O
, O
6.3 O
% O
, O
20.5 O
% O
and O
72.3 O
% O
of O
the O
test O
triples O
in O
FB15k-237 O
contain O
1 O
- O
1 O
, O
1 O
- O
M O
, O
M-1 O
and O
M O
- O
M O
rela- O
tions O
, O
respectively O
. O

Figure O
2 O
shows O
the O
Hits@10 O
and O
MRR O
results O
for O
predicting O
head O
and O
tail O
entities O
w.r.t O
each O
rela- O
tion O
category O
on O
FB15k-237 O
. O

CapsE O
works O
better O
than O
ConvKB O
in O
predicting O
entities O
on O
the O
‚Äú O
side O
M O
‚Äù O
of O
triples O
( O
e.g. O
, O
predicting O
head O
entities O
in O
M-1and O
M O
- O
M O
; O
and O
predicting O
tailentities O
in O
1 O
- O
M O
and O
M O
- O
M O
) O
, O
while O
ConvKB O
performs O
better O
than O
CapsE O
in O
predicting O
entities O
on O
the O
‚Äú O
side O
1 O
‚Äù O
of O
triples O
( O
i.e. O
, O
predicting O
head O
entities O
in O
1 O
- O
1 O
and O
1 O
- O
M O
; O
and O
pre- O
dicting O
tailentities O
in O
1 O
- O
1 O
and O
M-1 O
) O
. O

Figure O
3 O
shows O
the O
Hits@10 O
and O
MRR O
scores O
w.r.t O
each O
relation O
on O
WN18RR O
. O

alsosee O
, O
similarto O
, O
verbgroup O
and O
derivationally O
relatedform O
are O
symmet- O
ric O
relations O
which O
can O
be O
considered O
as O
M O
- O
M O
relations O
. O

Our O
CapsE O
also O
performs O
better O
than O
ConvKB O
on O
these O
4 O
M O
- O
M O
relations O
. O

Thus O
, O
results O

2185 O
m O
10 O
20 O
30 O
40 O
50 O
148.37 O
52.60 O
53.14 O
53.33 O
53.21 O
347.78 O
52.34 O
52.93 O
52.99 O
52.86 O
547.03 O
52.25 O
45.80 O
45.99 O
45.76 O
740.46 O
45.36 O
45.79 O
45.85 O
45.93 O
Table O
3 O
: O
Hits@10 O
on O
the O
WN18RR O
validation O
set O
with O
N= O
50 O
and O
the O
initial O
learning O
rate O
at O
1e 5w.r.t O

each O
number O
of O
iterations O
in O
the O
routing O
algorithm O
mand O
each O
10 O
training O
epochs O
. O

shown O
in O
Figures O
2 O
and O
3 O
are O
consistent O
. O

These O
also O
imply O
that O
our O
CapsE O
would O
be O
a O
potential O
candidate O
for O
applications O
which O
contain O
many O
M O
- O
M O
relations O
such O
as O
search O
personalization O
. O

We O
see O
that O
the O
length O
and O
orientation O
of O
each O
capsule O
in O
the O
Ô¨Årst O
layer O
can O
also O
help O
to O
model O
the O
important O
entries O
in O
the O
corresponding O
dimen- O
sion O
, O
thus O
CapsE O
can O
work O
well O
on O
the O
‚Äú O
side O
M O
‚Äù O
of O
triples O
where O
entities O
often O
appear O
less O
fre- O
quently O
than O
others O
appearing O
in O
the O
‚Äú O
side O
1 O
‚Äù O
of O
triples O
. O

Additionally O
, O
existing O
models O
such O
as O
DISTMULT O
, O
ComplEx O
and O
ConvE O
can O
perform O
well O
for O
entities O
with O
high O
frequency O
, O
but O
may O
not O
for O
rare O
entities O
with O
low O
frequency O
. O

These O
are O
rea- O
sons O
why O
our O
CapsE O
can O
be O
considered O
as O
the O
best O
one O
on O
FB15k-237 O

and O
it O
outperforms O
most O
exist- O
ing O
models O
on O
WN18RR O
. O

Effects O
of O
routing O
iterations O
: O
We O
study O
how O
the O
number O
of O
routing O
iterations O
affect O
the O
per- O
formance O
. O

Table O
3 O
shows O
the O
Hits@10 O
scores O
on O
the O
WN18RR O
validation O
set O
for O
a O
comparison O
w.r.t O
each O
number O
value O
of O
the O
routing O
iterations O
and O
epochs O
with O
the O
number O
of O
Ô¨Ålters O
N= O
50 O
and O
the O
Adam O
initial O
learning O
rate O
at O
1e 5 O
. O

We O
see O
that O
the O
best O
performance O
for O
each O
setup O
over O
each O
10 O
epochs O
is O
obtained O
by O
setting O
the O
number O
mof O
routing O
iterations O
to O
1 O
. O

This O
indicates O
the O
opposite O
side O
for O
knowledge O
graphs O
compared O
to O
images O
. O

In O
the O
image O
classiÔ¨Åcation O
task O
, O
setting O
the O
number O
m O
of O
iterations O
in O
the O
routing O
process O
higher O
than O
1 O
helps O
to O
capture O
the O
relative O
positions O
of O
entities O
in O
an O
image O
( O
e.g. O
, O
eyes O
, O
nose O
and O
mouth O
) O
properly O
. O

In O
contrast O
, O
this O
property O
from O
images O
may O
be O
only O
right O
for O
the O
1 O
- O
1 O
relations O
, O
but O
not O
for O
the O
1 O
- O
M O
, O
M- O
1 O
and O
M O
- O
M O
relations O
in O
the O
KGs O
because O
of O
the O
high O
variant O
of O
each O
relation O
type O
( O
e.g. O
, O
symmetric O
relations O
) O
among O
different O
entities O
. O

4 O
Search O
personalization O
application O
Given O
a O
user O
, O
a O
submitted O
query O
and O
the O
documents O
returned O
by O
a O
search O
system O
for O
that O
query O
, O
ourapproach O
is O
to O
re O
- O
rank O
the O
returned O
documents O
so O
that O
the O
more O
relevant O
documents O
should O
be O
ranked O
higher O
. O

Following O
Vu O
et O
al O
. O

( O
2017 O
) O
, O
we O
represent O
the O
relationship O
between O
the O
submitted O
query O
, O
the O
user O
and O
the O
returned O
document O
as O
a O
( O
s O
, O
r O
, O
o O
) O
-like O
triple O
( O
query O
, O
user O
, O
document O
) O
. O

The O
triple O
captures O
how O
much O
interest O
a O
user O
puts O
on O
a O
document O
given O
a O
query O
. O

Thus O
, O
we O
can O
evaluate O
the O
effectiveness O
of O
our O
CapsE O
for O
the O
search O
personalization O
task O
. O

4.1 O
Experimental O
setup O
Dataset O
: O
We O
use O
the O
SEARCH17 O
dataset O
( O
Vu O
et O
al O
. O
, O
2017 O
) O
of O
query O
logs O
of O
106 O
users O
collected O
by O
a O
large O
- O
scale O
web O
search O
engine O
. O

A O
log O
en- O
tity O
consists O
of O
a O
user O
identiÔ¨Åer O
, O
a O
query O
, O
top- O
10 O
ranked O
documents O
returned O
by O
the O
search O
en- O
gine O
and O
clicked O
documents O
along O
with O
the O
user O
‚Äôs O
dwell O
time O
. O

Vu O
et O
al O
. O

( O
2017 O
) O
constructed O
short O
- O
term O
( O
session O
- O
based O
) O
user O
proÔ¨Åles O
and O
used O
the O
proÔ¨Åles O
to O
personalize O
the O
returned O
results O
. O

They O
then O
em- O
ployed O
the O
SAT O
criteria O
( O
Fox O
et O
al O
. O
, O
2005 O
) O
to O
iden- O
tify O
whether O
a O
returned O
document O
is O
relevant O
from O
the O
query O
logs O
as O
either O
a O
clicked O
document O
with O
a O
dwell O
time O
of O
at O
least O
30 O
seconds O
or O
the O
last O
clicked O
document O
in O
a O
search O
session O
( O
i.e. O
, O
a O
SAT O
click O
) O
. O

After O
that O
, O
they O
assigned O
a O
relevant O
label O
to O
a O
re- O
turned O
document O
if O
it O
is O
a O
SAT O
click O
and O
also O
as- O
signedirrelevant O
labels O
to O
the O
remaining O
top-10 O
documents O
. O

The O
rank O
position O
of O
the O
relevant O
la- O
beled O
documents O
is O
used O
as O
the O
ground O
truth O
to O
evaluate O
the O
search O
performance O
before O
and O
after O
re O
- O
ranking O
. O

The O
dataset O
was O
uniformly O
split O
into O
the O
train- O
ing O
, O
validation O
and O
test O
sets O
. O

This O
split O
is O
for O
the O
purpose O
of O
using O
historical O
data O
in O
the O
training O
set O
to O
predict O
new O
data O
in O
the O
test O
set O
( O
Vu O
et O
al O
. O
, O
2017 O
) O
. O

The O
training O
, O
validation O
and O
test O
sets O
consist O
of O
5,658 O
, O
1,184 O
and O
1,210 O
relevant O
( O
i.e. O
, O
valid O
) O
triples O
; O
and O
40,239 O
, O
7,882 O
and O
8,540 O
irrelevant O
( O
i.e. O
, O
in- O
valid O
) O
triples O
, O
respectively O
. O

Evaluation O
protocol O
: O
Our O
CapsE O
is O
used O
to O
re- O
rank O
the O
original O
list O
of O
documents O
returned O
by O
a O
search O
engine O
as O
follows O
: O
( O
i O
) O
We O
train O
our O
model O
and O
employ O
the O
trained O
model O
to O
calculate O
the O
score O
for O
each O
( O
s;r;o O
) O
triple O
. O

( O
ii O
) O
We O
then O
sort O
the O
scores O
in O
the O
descending O
order O
to O
obtain O
a O
new O
ranked O
list O
. O

To O
evaluate O
the O
performance O
of O
our O
proposed O
model O
, O
we O
use O
two O
standard O
evalu- O
ation O
metrics O
: O

mean O
reciprocal O
rank O
( O
MRR O
) O
and O
Hits@1.3For O
each O
metric O
, O
the O
higher O
value O
indi- O
3We O
re O
- O
rank O
the O
list O
of O
top-10 O
documents O
returned O
by O
the O

2186cates O
better O
ranking O
performance O
. O

We O
compare O
CapsE O
with O
the O
following O
base- O
lines O
using O
the O
same O
experimental O
setup O
: O
( O
1 O
) O
SE O
: O
The O
original O
rank O
is O
returned O
by O
the O
search O
en- O
gine O
. O

( O
2 O
) O
CI O
( O
Teevan O
et O
al O
. O
, O
2011 O
): O

This O
baseline O
uses O
a O
personalized O
navigation O
method O
based O
on O
previously O
clicking O
returned O
documents O
. O

( O
3 O
) O
SP O
( O
Bennett O
et O
al O
. O
, O
2012 O
; O
Vu O
et O
al O
. O
, O
2015 O
): O

A O
search O
personalization O
method O
makes O
use O
of O
the O
session- O
based O
user O
proÔ¨Åles O
. O

( O
4 O
) O
Following O
Vu O

et O
al O
. O

( O
2017 O
) O
, O
we O
use O
TransE O
as O
a O
strong O
baseline O
model O
for O
the O
search O
personalization O
task O
. O

Previous O
work O
shows O
that O
the O
well O
- O
known O
embedding O
model O
TransE O
, O
de- O
spite O
its O
simplicity O
, O
obtains O
very O
competitive O
re- O
sults O
for O
the O
knowledge O
graph O
completion O
( O
Lin O
et O
al O
. O
, O
2015a O
; O

Nickel O
et O
al O
. O
, O
2016b O
; O
Trouillon O
et O
al O
. O
, O
2016 O
; O
Nguyen O
et O
al O
. O
, O
2016a O
, O
2018 O
) O
. O

( O
5 O
) O
The O
CNN- O
based O
model O
ConvKB O
is O
the O
most O
closely O
related O
model O
to O
our O
CapsE. O
Embedding O
initialization O
: O
We O
follow O
Vu O
et O
al O
. O

( O
2017 O
) O
to O
initialize O
user O
proÔ¨Åle O
, O
query O
and O
doc- O
ument O
embeddings O
for O
the O
baselines O
TransE O
and O
ConvKB O
, O
and O
our O
CapsE. O
We O
train O
a O
LDA O
topic O
model O
( O
Blei O
et O
al O
. O
, O
2003 O
) O
with O
200 O
topics O
only O
on O
the O
relevant O
documents O
( O
i.e. O
, O
SAT O
clicks O
) O
extracted O
from O
the O
query O
logs O
. O

We O
then O
use O
the O
trained O
LDA O
model O
to O
infer O
the O
probability O
distribution O
over O
topics O
for O
every O
re- O
turned O
document O
. O

We O
use O
the O
topic O
proportion O
vec- O
tor O
of O
each O
document O
as O
its O
document O
embedding O
( O
i.e.k= O
200 O
) O
. O

In O
particular O
, O
the O
zthelement O
( O
z= O
1;2;:::;k O
) O
of O
the O
vector O
embedding O
for O
doc- O
umentdis O
: O
vd;z= O
P(zjd)where O
P(zjd)is O
the O
probability O
of O
the O
topic O
zgiven O
the O
document O
d. O

We O
also O
represent O
each O
query O
by O
a O
probabil- O
ity O
distribution O
vector O
over O
topics O
. O

Let O
Dq= O
fd1;d2;:::;dngbe O
the O
set O
of O
top O
nranked O
docu- O
ments O
returned O
for O
a O
query O
q(here O
, O
n= O
10 O
) O
. O

The O
zthelement O
of O
the O
vector O
embedding O
for O
query O
qis O
deÔ¨Åned O
as O
in O
( O
Vu O
et O
al O
. O
, O
2017 O
): O
vq;z O
= O
Pn O
i=1iP(zjdi O
) O
, O
wherei=i 1Pn O
j=1j 1is O
the O
exponential O
decay O
function O
of O
iwhich O
is O
the O
rank O
ofdiinDq O
. O

Andis O
the O
decay O
hyper O
- O
parameter O
( O
0 O
< O
 O
< O
1 O
) O
. O

Following O
Vu O
et O
al O
. O

( O
2017 O
) O
, O
we O
use O
= O
0:8 O
. O

Note O
that O
if O
we O
learn O
query O
and O
document O
embeddings O
during O
training O
, O
the O
models O
will O
over- O
Ô¨Åt O
to O
the O
data O
and O
will O
not O
work O
for O
new O
queries O
and O
documents O
. O

Thus O
, O
after O
the O
initialization O
pro- O
cess O
, O
we O
Ô¨Åx O
( O
i.e. O
, O
not O
updating O
) O
query O
and O
docu- O
ment O
embeddings O
during O
training O
for O
TransE O
, O
Con- O
search O
engine O
, O
so O
Hits@10 O
scores O
are O
same O
for O
all O
models.vKB O
and O
CapsE. O

In O
addition O
, O
as O
mentioned O
by O
Bennett O
et O
al O
. O

( O
2012 O
) O
, O
the O
more O
recently O
clicked O
document O
ex- O

presses O
more O
about O
the O
user O
current O
search O
inter- O
est O
. O

Hence O
, O
we O
make O
use O
of O
the O
user O
clicked O
docu- O
ments O
in O
the O
training O
set O
with O
the O
temporal O
weight- O
ing O
scheme O
proposed O
by O
Vu O
et O
al O
. O

( O
2015 O
) O
to O
initial- O
ize O
user O
proÔ¨Åle O
embeddings O
for O
the O
three O
embed- O
ding O
models O
. O

Hyper O
- O
parameter O
tuning O
: O

For O
our O
CapsE O
model O
, O
we O
set O
batch O
size O
to O
128 O
, O
and O
also O
the O
number O
of O
neurons O
within O
the O
capsule O
in O
the O
second O
capsule O
layer O
to O
10 O
( O
d= O
10 O
) O
. O

The O
number O
of O
iterations O
in O
the O
routing O
algorithm O
is O
set O
to O
1 O
( O
m= O
1 O
) O
. O

For O
the O
training O
model O
, O
we O
use O
the O
Adam O
optimizer O
with O
the O
initial O
learning O
rate O
2f5e 6;1e 5;5e 5 O
; O
1e 4;5e 4 O
g. O
We O
also O
use O
ReLU O
as O
the O
activa- O
tion O
function O
g. O

We O
select O
the O
number O
of O
Ô¨Ålters O
N2f50;100;200;400;500 O
g. O
We O
run O
the O
model O
up O
to O
200 O
epochs O
and O
perform O
a O
grid O
search O
to O
choose O
optimal O
hyper O
- O
parameters O
on O
the O
validation O
set O
. O

We O
monitor O
the O
MRR O
score O
after O
each O
training O
epoch O
and O
obtain O
the O
highest O
MRR O
score O
on O
the O
validation O
set O
when O
using O
N= O
400 O
and O
the O
initial O
learning O
rate O
at O
5e 5 O
. O

We O
employ O
the O
TransE O
and O
ConvKB O
implemen- O

tations O
provided O
by O
Nguyen O
et O
al O
. O
( O
2016b O
) O
and O
Nguyen O
et O
al O
. O

( O
2018 O
) O

and O
then O
follow O
their O
train- O
ing O
protocols O
to O
tune O
hyper O
- O
parameters O
for O
TransE O
and O
ConvKB O
, O
respectively O
. O

We O
also O
monitor O
the O
MRR O
score O
after O
each O
training O
epoch O
and O
attain O
the O
highest O
MRR O
score O
on O
the O
validation O
set O
when O
us- O
ing O
margin O
= O
5 O
, O
l1 O
- O
norm O
and O
SGD O
learning O
rate O
at O
5e 3for O
TransE O
; O
and O
N= O
500 O
and O
the O
Adam O
ini- O
tial O
learning O
rate O
at O
5e 4for O
ConvKB O
. O

4.2 O
Main O
results O
Table O
4 O
presents O
the O
experimental O
results O
of O
the O
baselines O
and O
our O
model O
. O

Embedding O
models O
TranE O
, O
ConvKB O
and O
CapsE O
produce O
better O
rank- O
ing O
performances O
than O
traditional O
learning O
- O
to O
- O
rank O
search O
personalization O
models O
CI O
and O
SP O
. O

This O
in- O
dicates O
a O
prospective O
strategy O
of O
expanding O
the O
triple O
embedding O
models O
to O
improve O
the O
ranking O
quality O
of O
the O
search O
personalization O
systems O
. O

In O
particular O
, O
our O
MRR O
and O
Hits@1 O
scores O
are O
higher O
than O
those O
of O
TransE O
( O
with O
relative O
improvements O
of O
14.5 O
% O
and O
22 O
% O
over O
TransE O
, O
respectively O
) O
. O

SpeciÔ¨Åcally O
, O
our O
CapsE O
achieves O
the O
highest O
per- O
formances O
in O
both O
MRR O
and O
Hits@1 O
( O
our O
im- O
provements O
over O
all O
Ô¨Åve O
baselines O
are O
statistically O

2187Method O
MRR O
H@1 O
SE O

[ O
? O
] O
0.559 O
38.5 O
CI O

[ O
? O
] O
0.597 O
41.6 O
SP O

[ O
? O
] O
0.631 O
45.2 O
TransE O

[ O
? O
] O
0.645 O
48.1 O
TransE O
( O
ours O
) O
0.669 O
50.9 O
ConvKB O
0.750 O

+12:1 O
% O
59.9 O
+17:7 O
% O
Our O
CapsE O
0.766 O
+14:5 O
% O
62.1 O
+22:0 O
% O
Table O
4 O
: O
Experimental O
results O
on O
the O
test O
set O
. O

[ O
? O
] O
de- O
notes O
the O
results O
reported O
in O
( O
Vu O
et O
al O
. O
, O
2017 O
) O
. O

Hits@1 O
( O
H@1 O
) O
is O
reported O
in O
% O
. O

In O
information O
retrieval O
, O
Hits@1 O
is O
also O
referred O
to O
as O
P@1 O
. O

The O
subscripts O
de- O
note O
the O
relative O
improvement O
over O
our O
TransE O
results O
. O

0 O
10 O
20 O
30 O
40 O
50 O
60 O
70 O
Epoch0.640.660.680.700.720.740.76MRR O
50 O
100 O
200 O
400 O
500 O
Figure O
4 O
: O
Learning O
curves O
on O
the O
validation O
set O
with O
the O
initial O
learning O
rate O
at O
5e 5 O
. O

signiÔ¨Åcant O
with O
p<0:05using O
the O
paired O
t O
- O
test O
) O
. O

To O
illustrate O
our O
training O
progress O
, O
we O
plot O
per- O
formances O
of O
CapsE O
on O
the O
validation O
set O
over O
epochs O
in O
Figure O
4 O
. O

We O
observe O
that O
the O
perfor- O
mance O
is O
improved O
with O
the O
increase O
in O
the O
num- O
ber O
of O
Ô¨Ålters O
since O
capsules O
can O
encode O
more O
use- O
ful O
properties O
for O
a O
large O
embedding O
size O
. O

5 O
Related O
work O
Other O
transition O
- O
based O
models O
extend O
TransE O
to O
additionally O
use O
projection O
vectors O
or O
matrices O
to O
translate O
embeddings O
of O
sandointo O
the O
vector O
space O
ofr O
, O
such O
as O
: O
TransH O
( O
Wang O
et O
al O
. O
, O
2014 O
) O
, O
TransR O
( O
Lin O
et O
al O
. O
, O
2015b O
) O
, O
TransD O
( O
Ji O
et O
al O
. O
, O
2015 O
) O
and O
STransE O
( O
Nguyen O
et O
al O
. O
, O
2016b O
) O
. O

Furthermore O
, O
DISTMULT O
( O
Yang O
et O
al O
. O
, O
2015 O
) O
and O
ComplEx O
( O
Trouillon O
et O
al O
. O
, O
2016 O
) O
use O
a O
tri O
- O
linear O
dot O
prod- O
uct O
to O
compute O
the O
score O
for O
each O
triple O
. O

More- O
over O
, O
ConvKB O
( O
Nguyen O
et O
al O
. O
, O
2018 O
) O
applies O
con- O
volutional O
neural O
network O
, O
in O
which O
feature O
maps O
are O
concatenated O
into O
a O
single O
feature O
vector O
which O
is O
then O
computed O
with O
a O
weight O
vector O
via O
a O
dotproduct O
to O
produce O
the O
score O
for O
the O
input O
triple O
. O

ConvKB O
is O
the O
most O
closely O
related O
model O
to O
our O
CapsE. O
See O
an O
overview O
of O
embedding O
models O
for O
KG O
completion O
in O
( O
Nguyen O
, O
2017 O
) O
. O

For O
search O
tasks O
, O
unlike O
classical O
methods O
, O
per- O
sonalized O
search O
systems O
utilize O
the O
historical O
in- O
teractions O
between O
the O
user O
and O
the O
search O
system O
, O
such O
as O
submitted O
queries O
and O
clicked O
documents O
to O
tailor O
returned O
results O
to O
the O
need O
of O
that O
user O
( O
Teevan O
et O
al O
. O
, O
2005 O
, O
2009 O
) O
. O

That O
historical O
infor- O
mation O
can O
be O
used O
to O
build O
the O
user O
proÔ¨Åle O
, O
which O
is O
crucial O
to O
an O
effective O
search O
personalization O
system O
. O

Widely O
used O
approaches O
consist O
of O
two O
separated O
steps O
: O
( O
1 O
) O
building O
the O
user O
proÔ¨Åle O
from O
the O
interactions O
between O
the O
user O
and O
the O
search O
system O
; O
and O
then O
( O
2 O
) O
learning O
a O
ranking O
function O
tore O
- O
rank O
the O
search O
results O
using O
the O
user O
proÔ¨Åle O
( O
Bennett O
et O
al O
. O
, O
2012 O
; O
White O
et O
al O
. O
, O
2013 O
; O
Harvey O
et O
al O
. O
, O
2013 O
; O
Vu O
et O
al O
. O
, O
2015 O
) O
. O

The O
general O
goal O
is O
to O
re O
- O
rank O
the O
documents O
returned O
by O
the O
search O
system O
in O
such O
a O
way O
that O
the O
more O
relevant O
doc- O
uments O
are O
ranked O
higher O
. O

In O
this O
case O
, O
apart O
from O
the O
user O
proÔ¨Åle O
, O
dozens O
of O
other O
features O
have O
been O
proposed O
as O
the O
input O
of O
a O
learning O
- O
to O
- O
rank O
algo- O
rithm O
( O
Bennett O
et O
al O
. O
, O
2012 O
; O
White O
et O

al O
. O
, O
2013 O
) O
. O

Alternatively O
, O
Vu O
et O
al O
. O

( O
2017 O
) O
modeled O
the O
po- O
tential O
user O
- O
oriented O
relationship O
between O
the O
sub- O
mitted O
query O
and O
the O
returned O
document O
by O
apply- O
ing O
TransE O
to O
reward O
higher O
scores O
for O
more O
rele- O
vant O
documents O
( O
e.g. O
, O
clicked O
documents O
) O
. O

They O
achieved O
better O
performances O
than O
the O
standard O
ranker O
as O
well O
as O
competitive O
search O
personaliza- O
tion O
baselines O
( O
Teevan O
et O
al O
. O
, O
2011 O
; O
Bennett O
et O
al O
. O
, O
2012 O
; O
Vu O
et O
al O
. O
, O
2015 O
) O
. O

6 O
Conclusion O
We O
propose O
CapsE O
‚Äî O
a O
novel O
embedding O
model O
using O
the O
capsule O
network O
to O
model O
relationship O
triples O
for O
knowledge O
graph O
completion O
and O
search O
personalization O
. O

Experimental O
results O
show O
that O
our O
CapsE O
outperforms O
other O
state O
- O
of O
- O
the O
- O
art O
mod- O
els O
on O
two O
benchmark O
datasets O
WN18RR O
and O
FB15k-237 O
for O
the O
knowledge O
graph O
completion O
. O

We O
then O
show O
the O
effectiveness O
of O
our O
CapsE O
for O
the O
search O
personalization O
, O
in O
which O
CapsE O
out- O
performs O
the O
competitive O
baselines O
on O
the O
dataset O
SEARCH17 O
of O
the O
web O
search O
query O
logs O
. O

In O
ad- O
dition O
, O
our O
CapsE O
is O
capable O
to O
effectively O
model O
many O
- O
to O
- O
many O
relationships O
. O

Our O
code O
is O
available O
at O
: O
https://github.com/daiquocnguyen/CapsE. O

2188Acknowledgements O

This O
research O
was O
partially O
supported O
by O
the O
ARC O
Discovery O
Projects O
DP150100031 O
and O
DP160103934 O
. O

The O
authors O
thank O
Yuval O
Pinter O
for O
assisting O
us O
in O
running O
his O
code O
. O

References O
Paul O
N. O
Bennett O
, O
Ryen O
W. O
White O
, O
Wei O
Chu O
, O
Susan O
T. O
Dumais O
, O
Peter O
Bailey O
, O
Fedor O
Borisyuk O
, O
and O
Xi- O
aoyuan O
Cui O
. O

2012 O
. O

Modeling O
the O
impact O
of O
short- O
and O
long O
- O
term O
behavior O
on O
search O
personalization O
. O

InProceedings O
of O
the O
International O
ACM O
SIGIR O
Conference O
on O
Research O
and O
Development O
in O
Infor- O
mation O
Retrieval O
, O
pages O
185‚Äì194 O
. O

David O
M O
Blei O
, O
Andrew O
Y O
Ng O
, O
and O
Michael O
I O
Jordan O
. O

2003 O
. O

Latent O
dirichlet O
allocation O
. O

Journal O
of O
Ma- O
chine O

Learning O
Research O
, O
3:993‚Äì1022 O
. O

Antoine O
Bordes O
, O
Nicolas O
Usunier O
, O
Alberto O
Garc O
¬¥ O
ƒ±a- O
Dur¬¥an O
, O
Jason O
Weston O
, O
and O
Oksana O
Yakhnenko O
. O

2013 O
. O

Translating O
Embeddings O
for O
Modeling O
Multi- O
relational O
Data O
. O

In O
Advances O
in O
Neural O
Information O
Processing O
Systems O
26 O
, O
pages O
2787‚Äì2795 O
. O

Antoine O
Bordes O
, O
Jason O
Weston O
, O
Ronan O
Collobert O
, O
and O
Yoshua O
Bengio O
. O

2011 O
. O

Learning O
Structured O
Embed- O
dings O
of O
Knowledge O
Bases O
. O

In O
Proceedings O
of O
the O
Twenty O
- O
Fifth O
AAAI O
Conference O
on O
ArtiÔ¨Åcial O
Intelli- O
gence O
, O
pages O
301‚Äì306 O
. O

Liwei O
Cai O
and O
William O
Yang O
Wang O
. O

2018 O
. O

KBGAN O
: O

Adversarial O
Learning O
for O
Knowledge O
Graph O
Embed- O
dings O
. O

In O
Proceedings O
of O
The O
16th O
Annual O
Confer- O
ence O
of O
the O
North O
American O
Chapter O
of O
the O
Associ- O
ation O
for O
Computational O
Linguistics O
: O
Human O
Lan- O
guage O
Technologies O
, O
page O
to O
appear O
. O

Tim O
Dettmers O
, O
Pasquale O
Minervini O
, O
Pontus O
Stenetorp O
, O
and O
Sebastian O
Riedel O
. O

2018 O
. O

Convolutional O
2D O
Knowledge O
Graph O
Embeddings O
. O

In O
Proceedings O
of O
the O
32nd O
AAAI O
Conference O
on O
ArtiÔ¨Åcial O
Intelligence O
, O
pages O
1811‚Äì1818 O
. O

Steve O
Fox O
, O
Kuldeep O
Karnawat O
, O
Mark O
Mydland O
, O
Susan O
Dumais O
, O
and O
Thomas O
White O
. O
2005 O
. O

Evaluating O
im- O

plicit O
measures O
to O
improve O
web O
search O
. O

ACM O
Trans- O
actions O
on O
Information O
Systems O
, O
23(2):147‚Äì168 O
. O

Morgan O
Harvey O
, O
Fabio O
Crestani O
, O
and O
Mark O
J. O
Carman O
. O

2013 O
. O

Building O
user O
proÔ¨Åles O
from O
topic O
models O
for O
personalised O
search O
. O

In O
Proceedings O
of O
the O
ACM O
In- O
ternational O
Conference O
on O
Information O
and O
Knowl- O
edge O
Management O
, O
pages O
2309‚Äì2314 O
. O

Guoliang O
Ji O
, O
Shizhu O
He O
, O
Liheng O
Xu O
, O
Kang O
Liu O
, O
and O
Jun O
Zhao O
. O
2015 O
. O

Knowledge O
Graph O
Embedding O
via O
Dynamic O
Mapping O
Matrix O
. O

In O
Proceedings O
of O
the O
53rd O
Annual O
Meeting O
of O
the O
Association O
for O
Compu- O
tational O
Linguistics O
and O
the O
7th O
International O
Joint O
Conference O
on O
Natural O
Language O
Processing O
( O
Vol- O
ume O
1 O
: O
Long O
Papers O
) O
, O
pages O
687‚Äì696.Diederik O
Kingma O
and O
Jimmy O
Ba O
. O
2014 O
. O

Adam O
: O
A O
method O
for O
stochastic O
optimization O
. O

arXiv O
preprint O
arXiv:1412.6980 O
. O

Yankai O
Lin O
, O
Zhiyuan O
Liu O
, O
Huanbo O
Luan O
, O
Maosong O
Sun O
, O
Siwei O
Rao O
, O
and O
Song O
Liu O
. O
2015a O
. O

Modeling O
Rela- O
tion O
Paths O
for O
Representation O
Learning O
of O
Knowl- O
edge O
Bases O
. O

In O
Proceedings O
of O
the O
2015 O
Confer- O
ence O
on O
Empirical O
Methods O
in O
Natural O
Language O
Processing O
, O
pages O
705‚Äì714 O
. O

Yankai O
Lin O
, O
Zhiyuan O
Liu O
, O
Maosong O
Sun O
, O
Yang O
Liu O
, O
and O
Xuan O
Zhu O
. O
2015b O
. O

Learning O
Entity O
and O
Re- O
lation O
Embeddings O
for O
Knowledge O
Graph O
Comple- O
tion O
. O

In O
Proceedings O
of O
the O
Twenty O
- O
Ninth O
AAAI O
Con- O
ference O
on O
ArtiÔ¨Åcial O
Intelligence O
Learning O
, O
pages O
2181‚Äì2187 O
. O

Dai O
Quoc O
Nguyen O
, O
Tu O
Dinh O
Nguyen O
, O
Dat O
Quoc O
Nguyen O
, O
and O
Dinh O
Phung O
. O

2018 O
. O

A O
Novel O
Embed- O
ding O
Model O
for O
Knowledge O
Base O
Completion O
Based O
on O
Convolutional O
Neural O
Network O
. O

In O
Proceed- O
ings O
of O
the O
2018 O
Conference O
of O
the O
North O
American O
Chapter O
of O
the O
Association O
for O
Computational O
Lin- O
guistics O
: O
Human O
Language O
Technologies O
, O
Volume O
2 O
( O
Short O
Papers O
) O
, O
pages O
327‚Äì333 O
. O

Dat O
Quoc O
Nguyen O
. O

2017 O
. O

An O
overview O
of O
embedding O
models O
of O
entities O
and O
relationships O
for O
knowledge O
base O
completion O
. O

arXiv O
preprint O
, O
arXiv:1703.08098 O
. O

Dat O
Quoc O
Nguyen O
, O
Kairit O
Sirts O
, O
Lizhen O
Qu O
, O
and O
Mark O
Johnson O
. O

2016a O
. O

Neighborhood O
Mixture O
Model O
for O
Knowledge O
Base O
Completion O
. O

In O
Proceedings O
of O
The O
20th O
SIGNLL O
Conference O
on O
Computational O
Natural O
Language O
Learning O
, O
pages O
40‚Äì50 O
. O

Dat O
Quoc O
Nguyen O
, O
Kairit O
Sirts O
, O
Lizhen O
Qu O
, O
and O
Mark O
Johnson O
. O
2016b O
. O

STransE O
: O
a O
novel O
embedding O
model O
of O
entities O
and O
relationships O
in O
knowledge O
bases O
. O

In O
Proceedings O
of O
the O
2016 O
Conference O
of O
the O
North O
American O
Chapter O
of O
the O
Association O
for O
Computational O
Linguistics O
: O
Human O
Language O
Tech- O
nologies O
, O
pages O
460‚Äì466 O
. O

Maximilian O
Nickel O
, O
Kevin O
Murphy O
, O
V O
olker O
Tresp O
, O
and O
Evgeniy O
Gabrilovich O
. O

2016a O
. O

A O
Review O
of O
Rela- O
tional O
Machine O
Learning O
for O
Knowledge O
Graphs O
. O

Proceedings O
of O
the O
IEEE O
, O
104(1):11‚Äì33 O
. O

Maximilian O
Nickel O
, O
Lorenzo O
Rosasco O
, O
and O
Tomaso O
Poggio O
. O
2016b O
. O

Holographic O
Embeddings O
of O
Knowledge O
Graphs O
. O

In O
Proceedings O
of O
the O
Thirtieth O
AAAI O
Conference O
on O
ArtiÔ¨Åcial O
Intelligence O
, O
pages O
1955‚Äì1961 O
. O

Jeffrey O
Pennington O
, O
Richard O
Socher O
, O
and O
Christo- O
pher O
D. O
Manning O
. O

2014 O
. O

Glove O
: O
Global O
vectors O
for O
word O
representation O
. O

In O
Proceedings O
of O
the O
2014 O
Conference O
on O
Empirical O
Methods O
in O
Natural O
Lan- O
guage O
Processing O
, O
pages O
1532‚Äì1543 O
. O

Yuval O
Pinter O
and O
Jacob O
Eisenstein O
. O

2018 O
. O

Predicting O
Semantic O
Relations O
using O
Global O
Graph O
Properties O
. O

InProceedings O
of O
the O
2018 O
Conference O
on O
Empiri- O
cal O
Methods O
in O
Natural O
Language O
Processing O
, O
pages O
1741‚Äì1751 O
. O

2189Sara O
Sabour O
, O
Nicholas O
Frosst O
, O
and O
Geoffrey O
E O
Hinton O
. O
2017 O
. O

Dynamic O
routing O
between O
capsules O
. O

In O
Ad- O
vances O
in O
Neural O
Information O
Processing O
Systems O
, O
pages O
3859‚Äì3869 O
. O

Richard O
Socher O
, O
Danqi O
Chen O
, O
Christopher O
D O
Manning O
, O
and O
Andrew O
Ng O
. O
2013 O
. O

Reasoning O
With O
Neural O
Ten- O
sor O
Networks O
for O
Knowledge O
Base O
Completion O
. O

In O
Advances O
in O
Neural O
Information O
Processing O
Systems O
26 O
, O
pages O
926‚Äì934 O
. O

Jaime O
Teevan O
, O
Susan O
T. O
Dumais O
, O
and O
Eric O
Horvitz O
. O

2005 O
. O

Personalizing O
search O
via O
automated O
analysis O
of O
interests O
and O
activities O
. O

In O
Proceedings O
of O
the O
International O
ACM O
SIGIR O
Conference O
on O
Research O
and O
Development O
in O
Information O
Retrieval O
, O
pages O
449‚Äì456 O
. O

Jaime O
Teevan O
, O
Daniel O
J. O
Liebling O
, O
and O
Gayathri O
Ravichandran O
Geetha O
. O

2011 O
. O

Understanding O
and O
predicting O
personal O
navigation O
. O

In O
Proceedings O
of O
the O
ACM O
International O
Conference O
on O
Web O
Search O
and O
Data O
Mining O
, O
pages O
85‚Äì94 O
. O

Jaime O
Teevan O
, O
Meredith O
Ringel O
Morris O
, O
and O
Steve O
Bush O
. O

2009 O
. O

Discovering O
and O
using O
groups O
to O
im- O
prove O
personalized O
search O
. O

In O
Proceedings O
of O
the O
ACM O
International O
Conference O
on O
Web O
Search O
and O
Data O
Mining O
, O
pages O
15‚Äì24 O
. O

Kristina O
Toutanova O
and O
Danqi O
Chen O
. O
2015 O
. O

Observed O
Versus O
Latent O
Features O
for O
Knowledge O
Base O
and O
Text O
Inference O
. O

In O
Proceedings O
of O
the O
3rd O
Workshop O
on O
Continuous O
Vector O
Space O
Models O
and O
their O
Com- O
positionality O
, O
pages O
57‚Äì66 O
. O

Th¬¥eo O
Trouillon O
, O
Johannes O
Welbl O
, O
Sebastian O
Riedel O
, O
¬¥ O
Eric O
Gaussier O
, O
and O
Guillaume O
Bouchard O
. O

2016 O
. O

Complex O
Embeddings O
for O
Simple O
Link O
Prediction O
. O

In O
Pro- O
ceedings O
of O
the O
33nd O
International O
Conference O
on O
Machine O
Learning O
, O
pages O
2071‚Äì2080 O
. O

Thanh O
Vu O
, O
Dat O
Quoc O
Nguyen O
, O
Mark O
Johnson O
, O
Dawei O
Song O
, O
and O
Alistair O
Willis O
. O

2017 O
. O

Search O
personal- O
ization O
with O
embeddings O
. O

In O
Proceedings O
of O
the O
Eu- O
ropean O
Conference O
on O
Information O
Retrieval O
, O
pages O
598‚Äì604 O
. O

Thanh O
Vu O
, O
Alistair O
Willis O
, O
Son O
Ngoc O
Tran O
, O
and O
Dawei O
Song O
. O
2015 O
. O

Temporal O
latent O
topic O
user O
proÔ¨Åles O
for O
search O
personalisation O
. O

In O
Proceedings O
of O
the O
Eu- O
ropean O
Conference O
on O
Information O
Retrieval O
, O
pages O
605‚Äì616 O
. O

Quan O
Wang O
, O
Zhendong O
Mao O
, O
Bin O
Wang O
, O
and O
Li O
Guo O
. O
2017 O
. O

Knowledge O
Graph O
Embedding O
: O
A O
Survey O
of O
Approaches O
and O
Applications O
. O

IEEE O
Transactions O
on O
Knowledge O
and O
Data O
Engineering O
, O
29(12):2724 O
‚Äì O
2743 O
. O

Zhen O
Wang O
, O
Jianwen O
Zhang O
, O
Jianlin O
Feng O
, O
and O
Zheng O
Chen O
. O

2014 O
. O

Knowledge O
Graph O
Embedding O
by O
Translating O
on O
Hyperplanes O
. O

In O
Proceedings O
of O
the O
Twenty O
- O
Eighth O
AAAI O
Conference O
on O
ArtiÔ¨Åcial O
Intel- O
ligence O
, O
pages O
1112‚Äì1119.Robert O
West O
, O
Evgeniy O
Gabrilovich O
, O
Kevin O
Murphy O
, O
Shaohua O
Sun O
, O
Rahul O
Gupta O
, O
and O
Dekang O
Lin O
. O
2014 O
. O

Knowledge O
Base O
Completion O
via O
Search- O
based O
Question O
Answering O
. O

In O
Proceedings O
of O
the O
23rd O
International O
Conference O
on O
World O
Wide O
Web O
, O
pages O
515‚Äì526 O
. O

Ryen O
W. O
White O
, O
Wei O
Chu O
, O
Ahmed O
Hassan O
, O
Xiaodong O
He O
, O
Yang O
Song O
, O
and O
Hongning O
Wang O
. O

2013 O
. O

En- O
hancing O
personalized O
search O
by O
mining O
and O
model- O
ing O
task O
behavior O
. O

In O
Proceedings O
of O
the O
World O
Wide O
Web O
conference O
, O
pages O
1411‚Äì1420 O
. O

Bishan O
Yang O
, O
Wen O
- O
tau O
Yih O
, O
Xiaodong O
He O
, O
Jianfeng O
Gao O
, O
and O
Li O
Deng O
. O
2015 O
. O

Embedding O
Entities O
and O
Relations O
for O
Learning O
and O
Inference O
in O
Knowledge O
Bases O
. O

In O
Proceedings O
of O
the O
International O
Confer- O
ence O
on O
Learning O
Representations O
. O

