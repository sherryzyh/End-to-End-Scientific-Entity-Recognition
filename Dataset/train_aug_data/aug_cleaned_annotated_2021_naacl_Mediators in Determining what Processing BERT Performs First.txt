The O
mediators O
play O
a O
role O
in O
determining O
the O
order O
of O
processing O
for O
BERT B-MethodName
. O

We O
find O
that O
it O
is O
possible O
to O
get O
196 O
different O
rankings O
between O
the O
tasks O
when O
manipulating O
the O
distribution O
of O
context O
lengths O
in O
the O
probing O
dataset O
. O

, O
2019 O
) O


 O
Transformer O
- O
based O
pretrained O
embeddings O
are O
the O
basis O
for O
many O
tasks O
within O
NLP B-TaskName
, O
which O
underscores O
the O
importance O
in O
interpreting O
their O
behavior O
( O
Belinkov O
et O
al O
. O
, O
2020 O
) O
. O
This O
is O
especially O
true O
for O
the O
behavior O
of O
BERT B-MethodName
( O
Devlin O
et O
. O
, O
2019 O
) O
. O

probing O
. O


 O
In O
this O
work O
, O
we O
analyze O
the O
common O
approach O
of O
probing O
( O
2 O
) O
, O
used O
to O
localize O
where O
" O
knowledge O
" O
is O
located O
. O
The O
code O
is O
available O
at O
https://github.com/lovodkin93/ABCDEFG0-context-distance O
. O

We O
contest O
T19 O
's O
interpretation O
of O
the O
results O
, O
namely O
that O
the O
processing O
carried O
out O
by O
BERT B-MethodName
parallels O
the O
classical O
NLP B-TaskName
pipeline O
, O
despite O
reaffirming O
T19 O
's O
experimental O
findings O
. O

According O
to O
T19 O
, O
the O
lower O
layers O
are O
responsible O
for O
performing O
lexical O
tasks O
, O
while O
more O
semantic O
tasks O
are O
carried O
out O
by O
the O
higher O
layers O
. O

This O
sentence O
is O
saying O
that O
the O
amount O
equals O
the O
span O
length O
in O
tasks O
that O
involve O
a O
single O
span O
, O
and O
that O
it O
also O
equals O
the O
dependency O
length O
in O
tasks O
that O
involve O
two O
spans O
. O

We O
decided O
to O
consider O
context O
length O
as O
a O
mediator O
because O
previous O
work O
has O
shown O
that O
long O
- O
distance O
dependencies O
pose O
a O
difficulty O
in O
various O
NLP B-TaskName
tasks O
. O

Additionally O
, O
our O
findings O
demonstrate O
that O
when O
context O
length O
is O
not O
considered O
, O
one O
task O
( O
e.g. O
, O
dependency B-TaskName
parsing I-TaskName
) O
may O
appear O
to O
be O
processed O
at O
a O
higher O
level O
than O
another O
( O
e.g. O
, O
NER B-TaskName
) O
, O
when O
its O
expected O
level O
( O
as O
seen O
in O
$ O
2 O
) O
is O
actually O
lower O
for O
all O
ranges O
of O
context O
lengths O
( O
3.1.1 O
) O
. O

We O
follow O
T19 O
's O
lead O
and O
probe O
BERT B-MethodName
with O
Named O
Entity O
Recognition O
( O
NER B-TaskName
) O
, O
a O
task O
that O
classifies O
Non O
- O
terminals O
- O
Non O
- O
term O
. O
, O
Semantic O
Role O
Labeling O
( O
SRL B-TaskName
) O
, O
ABCDEFG3(ABCDEFG4 O
. O
) O
, O
Semantic O
Proto O
- O
Roles O
( O
SPR B-TaskName
; O
Reisinger O
et O
al O
. O
, O
2015 O
) O
, O
Relation O
Classification O
( O
RC B-TaskName
) O
, O
and O
the O
Stanford O
ABCDEFG7(ABCDEFG8 O
. O
; O
de O
Marneffe O
et O
al O
. O
, O
2006 O
) O
. O

The O
expected O
layer O
metric O
( O
referred O
to O
as O
Elayer B-MetricName
) O
of O
T19 O
assesses O
which O
layer O
in O
BERT B-MethodName
is O
most O
needed O
for O
prediction O
. O
A O
probing B-MetricName
classiﬁer I-MetricName
P I-MetricName
is O
trained O
on O
the O
lowest O
layers O
. O

Then O
, O
a O
differential O
score O
( O
l O
) O
is O
computed O
, O
which O
indicates O
the O
performance O
gain O
when O
taking O
into O
account O
one O
additional O
layer O
: O
( O
l O
) O
= O
Score(P(l O
) O
) O
- O
Score(P(l-1 O
) O
) O
. O
Once O
all O
the O
( O
l)s O
are O
computed O
, O
we O
may O
compute O
ABCDEFG O
: O
ABCDEFG O
= O
∑l O
( O
l)∑l O
( O
l O
) O
. O
Therefore O
, O
unlike O
standard O
edge O
probing O
, O
which O
is O
performed O
on O
each O
layer O
individually O
, O
computing O
ABCDEFG O
takes O
into O
account O
all O
layers O
up O
to O
a O
given O
l. O

In O
other O
words O
, O
for O
tasks O
with O
two O
spans O
, O
the O
context O
length O
is O
the O
distance O
between O
the O
end O
of O
the O
first O
span O
and O
the O
beginning O
of O
the O
second O
span O
. O
For O
tasks O
with O
just O
one O
span O
, O
the O
context O
length O
is O
the O
distance O
between O
the O
end O
of O
the O
span O
and O
the O
beginning O
of O
the O
context O
. O

We O
examine O
the O
effect O
of O
context O
length O
on O
Elayer B-MetricName
by O
modeling O
it O
as O
a O
mediating O
factor O
, O
which O
partly O
explains O
the O
relationship O
between O
two O
other O
variables O
( O
in O
this O
work O
, O
a O
task O
and O
its O
Elayer B-MetricName
) O
. O

There O
are O
two O
possible O
ways O
to O
look O
at O
how O
context O
length O
affects O
task O
Elayer B-MetricName
. O

The O
relationship O
we O
see O
between O
the O
task O
, O
the O
context O
length O
, O
and O
Elayer B-MetricName
is O
that O
they O
are O
all O
connected O
. O

Interestingly O
, O
we O
encounter O
a O
special O
edge O
case O
in O
3.1.1 O
, O
where O
the O
aggregated O
average O
( O
i.e. O
Elayer B-MetricName
) O
of O
one O
task O
is O
higher O
than O
another O
. O

We O
hypothesize O
that O
the O
context O
length O
is O
a O
mediating O
factor O
in O
the O
task O
. O

We O
use O
the O
SPR1 B-DatasetName
dataset O
to O
probe O
for O
the O
SPR B-TaskName
task O
, O
the O
SemEval O
2010 O
Task O
8 O
for O
the O
Dep B-TaskName
task O
, O
and O
the O
RC B-TaskName
dataset O
for O
the O
other O
tasks O
. O

We O
want O
to O
check O
if O
the O
context O
length O
really O
affects O
Elayer B-MetricName
and O
if O
the O
task O
is O
the O
only O
thing O
that O
contributes O
to O
this O
. O

We O
compile O
a O
dataset O
for O
a O
task O
containing O
only O
examples O
with O
context O
lengths O
shorter O
than O
a O
threshold O
, O
and O
use O
it O
to O
compute O
Elayer B-MetricName
. O

The O
Elayer B-MetricName
task O
increases O
when O
the O
threshold O
is O
increased O
, O
most O
notably O
the O
Co B-TaskName
- I-TaskName
ref I-TaskName
, O
SRL B-TaskName
, O
Dep B-TaskName
, O
and O
RC B-TaskName
tasks O
. O

We O
compute O
Elayer B-MetricName
for O
similar O
length O
subsets O
. O

The O
following O
sentence O
shows O
Figure O
2 O
as O
a O
function O
of O
a O
threshold O
on O
the O
context O
length O
. O

The O
y O
- O
axis O
value O
Elayer B-MetricName
is O
only O
computed O
based O
on O
examples O
with O
a O
context O
length O
of O
thr O
or O
less O
. O

Dep B-TaskName
, O
NER B-TaskName
, O
and O
their O
Elayer B-MetricName
cover O
the O
range O
of O
context O
lengths O
. O

We O
then O
consider O
a O
case O
where O
all O
the O
context O
lengths O
of O
Dep B-TaskName
are O
of O
length O
9 O
+ O
, O
while O
those O
of O
NER B-TaskName
are O
in O
the O
range O
of O
3 O
- O
5 O
( O
Figure O
3 O
) O
. O

We O
see O
that O
when O
controlling O
for O
context O
length O
, O
Dep B-TaskName
is O
computed O
in O
a O
lower O
layer O
than O
NER B-TaskName
, O
regardless O
of O
the O
range O
. O

The O
outcome O
may O
be O
completely O
different O
depending O
on O
the O
distribution O
of O
context O
lengths O
in O
the O
probing B-DatasetName
dataset I-DatasetName
. O

, O
2002 O
) O
. O


 O
These O
results O
suggest O
that O
the O
results O
of O
T19 O
do O
not O
necessarily O
mean O
that O
BERT B-MethodName
is O
performing O
a O
pipeline O
of O
computations O
( O
as O
is O
commonly O
believed O
, O
for O
example O
T19 O
and O
Blevins O
et O
al O
. O
, O
2002 O
) O
. O

It O
is O
important O
to O
consider O
mediating O
factors O
when O
interpreting O
Elayer B-MetricName
. O

Figure O
3 O
: O
Elayer B-MetricName
is O
made O
up O
of O
NER B-TaskName
and O
Dep B-TaskName
. O

The O
context O
length O
ranges O
for O
NER B-TaskName
are O
l2[3;5 O
] O
and O
for O
Dep B-TaskName
are O
_ O
_ O
_ O
_ O
. O

For O
some O
context O
length O
distribution O
, O
the O
order O
may O
be O
reversed O
, O
such O
that O
Dep B-TaskName
's O
Elayer B-MetricName
is O
bigger O
than O
NER B-TaskName
's O
. O

The O
meaning O
of O
the O
sentence O
changes O
depending O
on O
the O
distribution O
of O
context O
lengths O
in O
the O
probing B-DatasetName
dataset I-DatasetName
. O

We O
use O
mediation O
analysis O
, O
specifically O
focusing O
on O
the O
Natural O
Direct O
Effect O
( O
NDE O
) O
, O
which O
is O
the O
difference O
between O
two O
observed O
dependent O
variables O
( O
in O
our O
case O
Elayer B-MetricName
) O
when O
fixing O
the O
mediator O
. O

In O
our O
case O
, O
the O
NDE O
is O
the O
difference O
between O
the O
Elayer B-MetricName
of O
two O
tasks O
, O
while O
keeping O
the O
context O
length O
distribution O
the O
same O
for O
both O
. O

We O
propose O
a O
more O
detailed O
and O
accurate O
method O
to O
compare O
the O
expected O
layers O
, O
which O
does O
not O
rely O
on O
a O
specific O
length O
distribution O
, O
after O
observing O
that O
the O
distribution O
of O
context O
length O
in O
the O
probing B-DatasetName
dataset I-DatasetName
may O
affect O
the O
relative O
order O
of O
the O
expected O
layers O
. O

We O
plot O
the O
controlled O
effect O
, O
Elayer B-MetricName
, O
for O
each O
range O
separately O
. O

Our O
results O
in O
Figure O
5 O
show O
the O
range O
of O
possible O
expected O
layers O
for O
a O
task O
that O
may O
result O
from O
taking O
any O
context O
length O
distribution O
in O
Figure O
4 O
. O

There O
are O
four O
groups O
: O
NER B-TaskName
and O
RC B-TaskName
in O
the O
left O
group O
, O
SPR B-TaskName
and O
RC B-TaskName
in O
the O
middle O
group O
, O
and O
ABCDEFG4 O
and O
ABCDEFG5 O
in O
the O
right O
group O
. O

The O
employed O
context O
length O
distributions O
for O
NDE O
calculations O
are O
respectively O
Co B-TaskName
- I-TaskName
ref I-TaskName
, O
NER B-TaskName
, O
and O
SPR B-TaskName
. O

The O
figure O
below O
demonstrates O
the O
potential O
range O
of O
behaviors O
between O
different O
task O
pairs O
, O
from O
those O
with O
a O
notable O
difference O
in O
expected O
layers O
, O
like O
SRL B-TaskName
and O
Co B-TaskName
- I-TaskName
ref I-TaskName
, O
to O
those O
whose O
ordering O
of O
expected O
layers O
might O
be O
reversed O
, O
as O
is O
the O
case O
with O
SPR B-TaskName
and O
RC B-TaskName
. O

We O
get O
196 O
possible O
rankings O
of O
the O
seven O
tasks O
according O
to O
their O
Elayer B-MetricName
by O
taking O
into O
account O
every O
possible O
combination O
of O
context O
length O
distribution O
for O
each O
of O
the O
tasks O
. O

ABCDEFG O
is O
less O
than O
0 O
. O

. O
. O
< O
ABCDEFG9 O
< O
ABCDEFG10 O


 O
SRL B-TaskName
is O
less O
than O
RC B-TaskName
, O
which O
is O
less O
than O
. O
. O
. O
, O
which O
is O
less O
than O
ABCDEFG9 O
, O
which O
is O
less O
than O
ABCDEFG10 O
. O

The O
number O
Co B-TaskName
- I-TaskName
ref I-TaskName
is O
greater O
than O
NER B-TaskName
. O

This O
sentence O
has O
no O
meaning O
. O

To O
recap O
, O
the O
difference O
in O
Elayer B-MetricName
between O
some O
tasks O
may O
change O
considerably O
and O
their O
order O
may O
reverse O
, O
depending O
on O
the O
context O
length O
. O

We O
showed O
that O
the O
length O
of O
the O
context O
has O
a O
significant O
impact O
on O
the O
task O
's O
Elayer B-MetricName
. O

Our O
work O
suggests O
that O
other O
factors O
should O
be O
taken O
into O
account O
when O
basing O
analysis O
on O
the O
Elayer B-MetricName
. O

To O
generate O
typed O
dependency B-TaskName
parses I-TaskName
from O
phrase O
structure O
parses O
, O

The O
deep O
bidirectional O
transformers O
for O
language O
understanding O
are O
pretrained O
. O

Visualizing O
and O
understanding O
neural O
models O
in O
NLP B-TaskName
is O
important O
. O

BERT B-MethodName
rediscovers O
the O
pipeline O
that O
was O
originally O
NLP B-TaskName
. O

A O
dependency B-TaskName
parser I-TaskName
can O
be O
used O
to O
improve O
subject O
- O
object O
- O
verb O
languages O
. O

Figure O
7 O
: O
Elayer B-MetricName
of O
SRL B-TaskName
and O
Non O
- O
term O
. O


 O
This O
sentence O
is O
showing O
a O
figure O
that O
has O
two O
parts O
, O
Elayer B-MetricName
and O
SRL B-TaskName
, O
with O
the O
latter O
being O
non O
- O
terminal O
. O

For O
context O
length O
ranges O
4 O
and O
below O
, O
blue O
and O
yellow O
pairs O
are O
Elayer B-MetricName
, O
and O
all O
instances O
of O
SRL B-TaskName
are O
of O
context O
length O
l2[0;2 O
] O
. O

For O
some O
context O
length O
distributions O
, O
the O
Elayer B-MetricName
of O
SRL B-TaskName
may O
be O
smaller O
than O
that O
of O
Non O
- O
term O
. O

We O
compare O
the O
unmediated O
difference O
between O
task O
pairs O
with O
the O
pairs O
' O
NDE O
. O

For O
each O
task O
- O
pair O
in O
figure O
6 O
, O
we O
calculate O
the O
maximum O
difference O
between O
them O
. O

Namely O
, O
for O
each O
such O
pair O
, O
we O
juxtapose O
the O
difference O
between O
the O
maximal O
possible O
Elayer B-MetricName
of O
the O
first O
task O
and O
the O
minimal O
Elayer B-MetricName
of O
the O
second O
one O
with O
the O
opposite O
case O
( O
the O
difference O
between O
the O
minimal O
possible O
Elayer B-MetricName
of O
the O
first O
task O
and O
the O
maximal O
Elayer B-MetricName
of O
the O
second O
one O
) O
. O

The O
difference O
between O
unmediated O
Elayer B-MetricName
and O
NDE O
is O
shown O
in O
Figure O
9 O
for O
every O
task O
- O
pair O
. O

The O
employed O
context O
length O
distributions O
for O
the O
NDE O
calculations O
are O
, O
from O
left O
to O
right O
, O
NER B-TaskName
, O
SRL B-TaskName
, O
Dep B-TaskName
, O
Non O
- O
term O
. O
, O
SRL B-TaskName
, O
Co B-TaskName
- I-TaskName
ref I-TaskName
. O
, O
Dep B-TaskName
. O
, O
Non O
- O
term O
. O
, O
SRL B-TaskName
, O
Non O
- O
term O
. O
, O
SPR B-TaskName
, O
SRL B-TaskName
, O
SPR B-TaskName
, O
SPR B-TaskName
, O
Non O
- O
term O
. O
, O
SRL B-TaskName
, O
RC B-TaskName
, O
NER B-TaskName
, O
Non O
- O
term O
. O
, O
Dep B-TaskName
. O
and O
SRL B-TaskName
. O
